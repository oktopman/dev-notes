# EC2

## EC2(Elastic Compute Cloude) 란

안전하고 크기 조정이 가능한 컴퓨터를 클라우드에서 제공하는 웹 서비스이다.  
새로운 서버 인스턴스를 단 몇분만에 제공받을 수 있고, 요구사항의 변화에 따라 신속하게 용량을 확장하거나 축소 할 수 있다.  

On-Demand : 실행하는 인스턴스에 따라 시간 또는 초당 컴퓨팅으로 측정된 가격을 지불  
약정이 필요없고, 장기적인 수요 예측이 힘들거나 유연하게 EC2를 사용하고 싶을때 사용한다.  

Spot Instance : 경매 형식으로 시장에 남는 인스턴스를 저렴하게 구매해서 쓰는 방식  
예를 들어 내가 100월 이하의 가격일때만 사용하겠다 라고 한다면, AWS 가 남는 인스턴스가 있을때 100원 이하의 가격으로 떨어졌을때만 잠깐 사용 가능하다.  
EC2 를 생성할때 구매옵션에서 스팟 인스턴스를 체크하면 된다.  

Reserved Instance(예약 인스턴스) : 미리 약정해서 쓰는방식  
최대 75%로 저렴하고 수요 예측이 확실할때 사용한다.  

## EBS(Elastic Block Store)
EC2 인스턴스에 사용할 영구 블록 스터리지 볼륨을 제공한다.  
간단히 생각하면 하드디스크라고 생각하면된다.  EC2는 컴퓨터의 하드디스크(EBS)를 제외한 cpu,그래픽카드,메모리 같은것들 이다.  

EC2는 두가지 형태로 데이터를 저장할 수 있다.  
EBS Based : 반 영구적인 파일의 저장 가능
스냅샷기능이나 인스턴스 업그레이드가 가능하고 인스턴스의 stop 이 가능하다.  
하드디스크(EBS) 와 EC2(CPU, 그래픽카드 등)가 분리되어있으며 네트워크로 연결 되어 있다.  
그렇기 때문에 EC2에 종속적이지가 않다. EC2가 stop 되거나 terminate 되어도 EBS 는 관련없이 데이터를 가지고 있을수 있어서 새로운 EC2를 생성하여 EBS 와 붙일 수 있다.  
인스턴스생성후에 사양이 좋지않다고 판단되면 EC2 성능을 높이고 다시 기존의 EBS와 붙일 수 있다.  

Instance Storage : 휘발성이나 빠른 방식. stop이 불가능하다.  
EC2안에 들어가있다. 즉 물리적으로 연결 되어있다.  
그렇기 때문에 속도가 빠르다. 하지만 EC2 안에 있기때문에 EC2가 종료되면 함께 데이터도 날아가버린다.  

## AMI
EBS를 스냅샷형태로 만들어놓으면 내부적으로 S3에 저장하게 된다. 그리고 AMI로 등록하여 사용할 수 있다.  
여러가지 소프트웨어를 설치해놓고 AMI 를 만든다음 남들과 공유할 수도 있고 백업용으로 사용할 수도 있다.  
AMI로 새로운 EC2를 만들수도 있고 다른사람에게 공유할 수도 있다.  
