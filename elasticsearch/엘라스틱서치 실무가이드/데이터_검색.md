# 데이터 검색
- ES 는 인덱스에 저장된 문서를 검색할 수 있게 검색 기능 제공
- 특정 문장이 검색어로 요청되면 분석기를 통해 분석된 토큰의 일치 여부를 판단해서 문서마다 점수(score)를 매김. score 를 기반으로 순서를 적용해 출력
- 다양한 검색조건을 충족시키기위해 Query DSL 이라는 쿼리 문법 제공

## 검색 API
- 문장은 색인 시점에 텀으로 분해되고 검색시점에 이 텀을 일치시켜야 검색 가능
- ES 는 색인시점에 분석기를 통해 분석된 텀을 term, 출현빈도, 문서번호와 같이 역색인하여 저장
- 검색시점에는 Text 타입과 같은 분석이 가능한 데이터를 구분해서 분석한 후 역색인 구조를 이용해 문서를 찾고 스코어를 매김
- 이러한 동작방식을 이해해야 원하는 검색 결과가 나옴

### 검색 질의 표현 방식
- URI 검색
  - 파라미터를 Key:Value 형태로 전달하는 방식
```
GET my_index/_search?q=name:harry
```
- Request Body 검색
  - 검색할 컬럼과 검색어를 JSON 형태로 표현해서 전달하는 방식
```
GET my_index/_search
{
    "query": {
        "term": {"name" : "harry" }
    }
}
```